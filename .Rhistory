rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions)))
select(Disease) %>% unique
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
select(Disease) %>% unique()
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions)))
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- bind_cols(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value)))
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value)))
CostPerCase
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
summarise(quantile(CostPerCase, probs= c(0.5, 0.05, 0.95)))
CostPerCase
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
group_modify(quantile(CostPerCase, probs= c(0.5, 0.05, 0.95)))
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
group_modify(as.data.frame(quantile(CostPerCase, probs= c(0.5, 0.05, 0.95))))
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
summarise(median = median(CostPerCase),
`5%` = quantile(CostPerCase, 0.05),
`95%` = quantile(CostPerCase, 0.95))
CostPerCase
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
summarise(median = median(CostPerCase),
`5%` = quantile(CostPerCase, 0.05),
`95%` = quantile(CostPerCase, 0.95))
write.csv(CostPerCase, './R/CostPerCase.csv')
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup"))
CostAllGastroIncludingSequelae$Pathogen
CostAllGastroIncludingSequelae$Disease
unique(CostAllGastroIncludingSequelae$Disease)
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions)))
CostAllGastroIncludingSequelae
unique(CostAllGastroIncludingSequelae$Pathogen)
unique(CostAllGastroIncludingSequelae$Diseases)
unique(CostAllGastroIncludingSequelae$Disease)
CostAllGastroIncludingSequelae
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions)))
group_by(.,Draw) %>%
summarise(Cost = sum(value))
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value))
CostAllGastroIncludingSequelae
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(CostPerCase),
`5%` = quantile(CostPerCase, 0.05),
`95%` = quantile(CostPerCase, 0.95))
CostAllGastroIncludingSequelae
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
CostAllGastroIncludingSequelae
CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
group_by(.,Draw)
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
select(Pathogen,Disease) %>% unique()
CostAllGastroIncludingSequelae
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
#select(Pathogen,Disease) %>% unique()
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
CostAllGastroIncludingSequelae
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
select(Pathogen,Disease) %>% unique()
CostAllGastroIncludingSequelae
CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup"))
CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.))
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(!(CostItem %in% c("TotalFrictionHigh","TotalFrictionLow")) ) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
summarise(median = median(CostPerCase),
`5%` = quantile(CostPerCase, 0.05),
`95%` = quantile(CostPerCase, 0.95))
CostPerCase
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(!(CostItem %in% c("TotalFrictionHigh","TotalFrictionLow")) ) %>%
select(Pathogen,Disease) %>% unique()
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(!(CostItem %in% c("TotalFrictionHigh","TotalFrictionLow")) ) %>%
select(Pathogen,Disease) %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(!(CostItem %in% c("TotalFrictionHigh","TotalFrictionLow")) ) %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
CostAllGastroIncludingSequelae
CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem"))
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(CostItem == "TotalHumanCapital") %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
summarise(median = median(CostPerCase),
`5%` = quantile(CostPerCase, 0.05),
`95%` = quantile(CostPerCase, 0.95))
write.csv(CostPerCase, './R/CostPerCase.csv')
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(CostItem == "TotalHumanCapital") %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
CostPerCase
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(CostItem == "TotalHumanCapital") %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
CostAllGastroIncludingSequelae
#Note this includes all sequelae for the purpose of counting costs, but only the initial cases for the purpose of counting cases.
CostPerCase <- merge(CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(CostItem == "TotalHumanCapital") %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cost = sum(value)),
IncidenceList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup")) %>%
subset(!(Disease %in% names(SequelaeAssumptions))) %>%
group_by(.,Draw, Pathogen) %>%
summarise(Cases = sum(value))) %>%
mutate(CostPerCase = Cost/Cases) %>%
group_by(Pathogen) %>%
summarise(median = median(CostPerCase),
`5%` = quantile(CostPerCase, 0.05),
`95%` = quantile(CostPerCase, 0.95))
write.csv(CostPerCase, './R/CostPerCase.csv')
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(CostItem == "TotalHumanCapital") %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
warning('When summing across agegroups the draws of the multipliers used for each agegroup are considered independent. Making them dependent would require reworking the whole program, and is not necessarily a better assumption, but it is something to be aware of')
CostAllGastroIncludingSequelae <- CostList %>%
rapply(enquote, how="unlist") %>%
lapply(eval) %>%
as.data.frame(check.names = F) %>%
mutate(Draw = row.names(.)) %>%
pivot_longer(-Draw, names_sep = "\\.",
names_to = c("Pathogen", "Disease","AgeGroup","CostItem")) %>%
subset(Disease %in% c("Gastroenteritis",names(SequelaeAssumptions))) %>%
subset(CostItem == "TotalHumanCapital") %>%
group_by(.,Draw) %>%
summarise(Cost = sum(value)) %>%
summarise(median = median(Cost),
`5%` = quantile(Cost, 0.05),
`95%` = quantile(Cost, 0.95))
write.csv(CostAllGastroIncludingSequelae, './R/CostAllGastroIncludingSequelae.csv')
