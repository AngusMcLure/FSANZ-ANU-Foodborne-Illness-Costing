}else{
return(singularize(verb))
}
}
attribtionSentencesPathogen <- function(pathogen){
cl <- CostList %>% subset(Pathogen == pathogen &
Agegroup == 'All ages' &
CostCategory == "TotalHumanCapital" &
median != 0)
el <- EpiList %>% subset(Pathogen == pathogen &
Agegroup == 'All ages' &
median != 0)
InitDisease <- PathogenAssumptions[[pathogen]]$name
SequelDiseases <- names(PathogenAssumptions[[pathogen]]$sequelae)
TotalCost <- subset(cl, Source == 'AllFood' &
Disease == 'Initial and sequel disease')$median #not tidied until later as it is needed for calculation fractions
CasesInit <- subset(el, Source == 'AllFood' &
Measure == 'Cases' &
Disease == 'Initial')$median %>% tidyNumber(unit = 1, max.word = 21)
CasesSequel <- subset(el, Source == 'AllFood' &
Measure == 'Cases' &
Disease %in% SequelDiseases)$median %>% sum %>% tidyNumber(unit = 1, max.word = 21)
Hosp <- subset(el, Source == 'AllFood' &
Measure == 'Hospitalisations' &
Disease == 'Initial and sequel disease')$median %>% tidyNumber(unit = 1, max.word = 21)
Deaths <- subset(el, Source == 'AllFood' &
Measure == 'Deaths' &
Disease == 'Initial and sequel disease')$median %>% tidyNumber(unit = 1, max.word = 21)
SourceCosts <-  subset(cl, Disease == 'Initial and sequel disease' & Source != 'AllFood') %>% arrange(desc(median))
SourcesOrdered <- SourceCosts$Source
SourceCostsOrdered <- SourceCosts$median
SourcePropOrdered <- round(SourceCostsOrdered/TotalCost* 100)
SourceCostsOrdered <- SourceCostsOrdered %>% tidyNumber(unit = 10^6, round = FALSE)
TotalCost <- TotalCost %>% tidyNumber(unit = 10^6, round = FALSE)
LeadingSourceCases <- subset(el, Source == SourcesOrdered[1] &
Measure == 'Cases' &
Disease == 'Initial')$median %>% tidyNumber(unit = 1, max.word = 21)
LeadingSourceCasesSequel <- subset(el, Source == SourcesOrdered[1] &
Measure == 'Cases' &
Disease %in% SequelDiseases)$median %>% sum %>% tidyNumber(unit = 1, max.word = 21)
LeadingSourceHosp <- subset(el, Source == SourcesOrdered[1] &
Measure == 'Hospitalisations' &
Disease == 'Initial and sequel disease')$median %>% tidyNumber(unit = 1, max.word = 21)
LeadingSourceDeaths <- subset(el, Source == SourcesOrdered[1] &
Measure == 'Deaths' &
Disease == 'Initial and sequel disease')$median %>% tidyNumber(unit = 1, max.word = 21)
hasSequel <- length(SequelDiseases) > 0
str_glue(
'{pathogen} resulted in an annual cost of approximately {TotalCost} million
AUD circa 2019 arising from {CasesInit} cases of',
if(hasSequel){' initial '}else{' '},'illness, ',
if(hasSequel){'{CasesSequel} cases of sequel illness ({textlist(tolower(SequelDiseases),conj = "or")}), '}else{''},
'{Hosp} hospitalisations, and {textCountObj(Deaths, "death")}. {SourcesOrdered[1]}
{matchVerbNoun("was",SourcesOrdered[1])} the leading source ({SourcePropOrdered[1]}%)
with a total annual cost of {SourceCostsOrdered[1]} million AUD arising from
{LeadingSourceCases} cases of', if(hasSequel){' initial '}else{' '},'illness, ',
if(hasSequel){'{LeadingSourceCasesSequel} cases of sequel illness, '}else{''},
'{LeadingSourceHosp} hospitalisations, and {textCountObj(LeadingSourceDeaths, "death")}. The
next three most frequent sources were ',
textlist(glue('{tolower(SourcesOrdered[2:4])} ({SourcePropOrdered[2:4]}%)')), '.'
) %>%
gsub('\n',' ',., fixed = TRUE)
}
attributionSentencesSource <- function(){
cl <- CostList %>% subset(Agegroup == 'All ages' &
CostCategory == "TotalHumanCapital" &
median != 0)
el <- EpiList %>% subset(Measure == 'Cases' &
Agegroup == 'All ages'&
Disease == 'Initial' &
median != 0)
PathogenNames <- setdiff(unique(CostList$Pathogen), 'All pathogens')
TotalCost <- subset(cl, Disease == 'Initial and sequel disease' &
Pathogen == 'All pathogens' &
Source == 'AllFood')$median %>% tidyNumber(unit = 10^6, round = FALSE)
SourceCosts <-  subset(cl, Disease == 'Initial and sequel disease' &
Pathogen == 'All pathogens' &
Source != 'AllFood') %>% arrange(desc(median))
SourcesCostOrdered <- SourceCosts$Source
SourcesCostOrderedCosts <- SourceCosts$median %>% tidyNumber(unit = 10^6, round = FALSE)
LeadingSourceCosts <- subset(cl, Disease == 'Initial and sequel disease' &
Pathogen != 'All pathogens' &
Source == SourcesCostOrdered[1]) %>% arrange(desc(median))
PathogensCostOrdered <- LeadingSourceCosts$Pathogen
PathogensCostOrderedCosts <- LeadingSourceCosts$median %>% tidyNumber(unit = 10^6, round = FALSE)
## Sources by number of
TotalCases <- subset(el, Pathogen == 'All pathogens' &
Source == 'AllFood')$median %>% tidyNumber(unit = 1, max.word = 21)
SourceCases <-  subset(el, Pathogen == 'All pathogens' &
Source != 'AllFood') %>% arrange(desc(median))
SourcesCaseOrdered <- SourceCases$Source
SourcesCaseOrderedCases <- SourceCases$median %>% tidyNumber(unit = 1, max.word = 21)
LeadingSourceCases <- subset(el, Pathogen != 'All pathogens' &
Source == SourcesCaseOrdered[1]) %>% arrange(desc(median))
PathogensCaseOrdered <- LeadingSourceCases$Pathogen
PathogensCaseOrderedCases <- LeadingSourceCases$median %>% tidyNumber(unit = 1, max.word = 21)
str_glue(
textlist(glue('{PathogenNames}')),
' have an estimated annual burden of {TotalCases} cases and {TotalCost} million AUD.
Among the pathogens and food categories considered, {tolower(SourcesCostOrdered[1])}
{matchVerbNoun("was",SourcesCostOrdered[1])} associated with the greatest cost
of foodborne illness, with a total cost of {SourcesCostOrderedCosts[1]} million AUD.
Of this total, ',
textlist(glue('{PathogensCostOrderedCosts} million AUD was due to {PathogensCostOrdered}')),
'. The food category associated with the most cases of foodborne illness circa 2019
was', if(SourcesCaseOrdered[1] == SourcesCostOrdered[1]){' also '}else{' '},
'{tolower(SourcesCaseOrdered[1])}, with a total burden of {SourcesCaseOrderedCases[1]} cases. Of this total, ',
textlist(glue('{PathogensCaseOrderedCases} cases were due to {PathogensCaseOrdered}')),'.'
)%>%
gsub('\n',' ',., fixed = TRUE)
}
attributionSentencesSource() %>% write_lines('AttributionReport/PathogenAttributionSummariesText.txt',
sep = '\n\n')
CommonPathogens %>%
map(attribtionSentencesPathogen) %>%
write_lines('AttributionReport/PathogenAttributionSummariesText.txt',
sep = '\n\n', append = TRUE)
#Write Cost and Epi List summaries for further analysis -- e.g. could be used to build an interactive tool
write.csv(CostList, 'AttributionReport/AttrCostTable.csv')
write.csv(EpiList, 'AttributionReport/EpiCostTable.csv')
write.csv(EpiList, 'AttributionReport/EpiCostTable.csv')
CostList
CostList %>% subset(Agegroup == 'AllAges')
CostList %>% subset(Agegroup == 'All Ages')
CostList$Agegroup %>% unique
CostList %>% subset(Agegroup == 'All ages')
CostList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella')
CostList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella') %>% View
EpiList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella') %>% View
CostList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella') %>% View
EpiList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella') %>% View
EpiList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella' & Measure == 'Cases') %>% View
EpiList %>% subset(Agegroup == 'All ages' & Pathogen == 'Non-typhoidal Salmonella' & Measure == 'Cases' & Disease == 'Initial') %>% View
help(gamma)
help(dgamma)
rgamma(100,0,0)
library(shiny); runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
help("tabPanel")
help("textOutput")
runApp('shiny.R')
help("str_glue")
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
renderMarkdown
??renderMarkdown
includeMarkdown()
help("includeMarkdown")
markdown::render('InfoText.Rmd')
render
help(render)
rmarkdown::render('InfoText.Rmd')
out <- rmarkdown::render('InfoText.Rmd')
out
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
CPIData <- read.csv('./Data/CPI-ABS.csv')
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1)
CPIData
CPIData %>% View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na()
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-') %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year')) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
View
'a'<'b'
'b'<'a'
help('<')
help('<.character')
class('a')
help(`<.character`)
`<`
help"as.data.frame")
help("as.Date")
as_date()
help("as_date")
as_date('Mar-2019')
as_date('Mar-2019','Mmm-YYYY')
as_date('Mar-2019',format = 'Mmm-YYYY')
as_date('01-Mar-2019',format = 'dd-Mmm-YYYY')
as_date('01-Mar-2019',format = '%d-%-%Y')
as_date('01-Mar-2019',format = '%d-%m-%Y')
as_date('Mar-2019',format = '%d-%m-%Y')
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter), format = '%d-%m-%Y')) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = paste0('01-',Quarter)) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%Y')) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = paste0('01-',Quarter))
CPIData
CPIData$Date
as.date(CPIData$Date, format = '%d-%m-%Y')
as_date(CPIData$Date, format = '%d-%m-%Y')
as_date(CPIData$Date, format = '%d-%m-%y')
as_date(CPIData$Date, format = '%d-%m-%y') %>% class
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y'))
CPIData
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(CummCPI = 1-cumprod(1+Change.Quarterly)) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(CummCPI = cumprod(1+Change.Quarterly)-1) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(CummCPI = cumprod(1+Change.Quarterly/100)-1) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
separate_wider_delim(Quarter,'-',names = c('Month','Year'),cols_remove = FALSE) %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(CummCPI = 100*(cumprod(1+Change.Quarterly/100)-1)) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(CummCPI = 100*(cumprod(1+Change.Quarterly/100)-1)) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(Inflation.Multiplier = cumprod(1+Change.Quarterly/100),
CummCPI = 100*(Inflation.Multiplier-1)) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(Cumm.Inflation.Multiplier = cumprod(1+Change.Quarterly/100),
CummCPI = 100*(Inflation.Multiplier-1)) %>%
View
CPIData <- read.csv('./Data/CPI-ABS.csv',skip = 1,
col.names = c('Quarter', 'Change.Quarterly', 'Change.Annualised')) %>%
drop_na() %>%
mutate(Date = as_date(paste0('01-',Quarter),format = '%d-%m-%y')) %>%
subset(Date > as_date('2019-06-01')) %>%
arrange(Date) %>%
mutate(Cumm.Inflation.Multiplier = cumprod(1+Change.Quarterly/100),
CummCPI = 100*(Cumm.Inflation.Multiplier-1)) %>%
View
selectInput()
help("selectInput")
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
runApp('shiny.R')
help("fluidRow")
runApp('shiny.R')
runApp('shiny.R')
HTML(paste0(rep('<br />',10),collapse = ' ')
library(shiny); runApp('shiny.R')
runApp('app.R')
deployApp()
rsconnect::deployApp()
help(deployApp)
install.packages('MASS')
runApp()
runApp()
shiny::runApp()
install.packages('AF')
install.packages('fitdistrplus')
install.packages('stdReg')
install.packages('MatrixModels')
install.packages('SparseM')
install.packages('car')
install.packages('corrplot')
install.packages('cowplot')
install.packages('ggpubr')
install.packages('ggtext')
install.packages('plotly')
6632 - 515
6632 - 515 - 69
(6632 +5908)/2
10.1/12.0 * c(42806,38468,32048,30423)
HospFiles <- list.files("./Data", "^Principal_diagnosis_data_cube_")
Years <- sub("\\.xlsx.*", "", sub(".*Principal_diagnosis_data_cube_", "", HospFiles))
Years
getMissedDaysGastro <- function(){
days <- readxl::read_xlsx("./Data/Missed work.xlsx",
sheet = "Missed days - machine readible") %>%
as.data.frame()
days[days$Type == 'Self',"<5"] <- 0
days <-  days %>%
pivot_longer(-c(Type, Days), names_to = 'AgeGroup', values_to = 'Count') %>%
group_by(Days, Type, AgeGroup) %>%
group_modify(~{data.frame(dummy= rep(1,.x$Count))}) %>%
select(-dummy)
fits <- days %>%
subset(!(AgeGroup == "<5" & Type == "Self")) %>%
group_by(AgeGroup, Type) %>%
group_modify(~{
invisible(capture.output(a <- fitdistrplus::fitdist(.x$Days,'nbinom'))) #invisible(capture.output(...)) is used to suppress the unnecessary printing to screen
plot(a)
as.data.frame(as.list(c(estimate = a$estimate["mu"], sd = a$sd["mu"])))})
rbind(fits, data.frame(AgeGroup = '<5', Type = "Self", estimate.mu = 0, sd.mu = 0))
}
temp <- getMissedDaysGastro()
temp
runApp()
read.csv('./Data/CPI-ABS.csv')
read.csv('./Data/CPI-ABS.csv',skip = 2)
read.csv('./Data/CPI-ABS.csv',skip = 1)
help(PoolPrev)
??PoolPrev
data <- data.frame(Result = c(A,B,A,B))
data <- data.frame(Result = c('A','B','A','B'))
data
data %>% mutate(Result = recode(A = 1, B = 0))
data %>% mutate(Result = recode(Result, A = 1, B = 0))
data %>% mutate(Result = case_when(Result, A = 1, B = 0))
data %>% mutate(Result = case_when(Result, A ~ 1, B ~ 0))
help(case_when)
data %>% mutate(Result = recode(Result, A = 1, B = 0))
library(PoolTestR)
ExampleData
PoolPrev(ExampleData, Result, NumInPool)
parallel::detectCores()
PoolPrev(ExampleData, Result, NumInPool, cores = 4)
PoolPrev(ExampleData, Result, NumInPool, Village, Year, cores = 4)
PoolPrev(SimpleExampleData, Result, NumInPool, cores = 4)
closeAllConnections()
PoolPrev(SimpleExampleData, Result, NumInPool, Village, Year, cores = 4)
PoolPrev(SimpleExampleData, Result, NumInPool, Village, Year)
SimpleExampleData
HierPoolPrev(SimpleExampleData, Result, NumInPool, Village, Year, c('Site'))
HierPoolPrev(SimpleExampleData, Result, NumInPool, c('Site'), Village, Year)
ExampleData
ExampleData %>%
group_by(Village) %>%
summarise(Present = sum(Result) > 0)
ExampleData %>%
group_by(Village) %>%
summarise(Present = sum(Result) > 0) %>%
View
SimpleExampleData %>%
group_by(Village) %>%
summarise(Present = sum(Result) > 0) %>%
View
SimpleExampleData %>%
group_by(Site) %>%
summarise(Present = sum(Result) > 0) %>%
View
SimpleExampleData %>%
summarise(Present = sum(Result) > 0) %>%
View
SimpleExampleData %>%
group_by(Village, Year) %>%
summarise(Present = sum(Result) > 0) %>%
View
SimpleExampleData %>%
group_by(Village, Year) %>%
summarise(Present = any(Result == 'Positive')) %>%
View
SimpleExampleData %>%
group_by(Village, Year) %>%
summarise(Present = any(Result == 1)) %>%
View
SimpleExampleData %>%
mutate(Present = any(Result == 1)) %>%
View
SimpleExampleData %>%
mutate(Present = mean(Result)) %>%
View
SimpleExampleData %>%
group_by(Village, Year, Region) %>%
mutate(Present = mean(Result)) %>%
View
SimpleExampleData %>%
group_by(Village, Year, Region) %>%
summarise(Present = mean(Result)) %>%
View
SimpleExampleData %>%
group_by(Village) %>%
summarise(Present = mean(Result)) %>%
View
SimpleExampleData
SimpleExampleData %>% select(Site, Year, Region)
SimpleExampleData %>% select(Site = SiteID, Year, Region)
SimpleExampleData %>% select(SiteID = Site, Year, Region)
SimpleExampleData
mod <- PoolReg(Result ~ Year)
mod <- PoolReg(Result ~ Year, ExampleData, NumInPool)
mod
mod$coefficients
exp(mod$coefficients)
mod <- PoolReg(Result ~ Year + Village + Site, ExampleData, NumInPool)
exp(mod$coefficients)
mod <- PoolReg(Result ~ Year + (1|Village) + (1|Site), ExampleData, NumInPool)
mod
mod <- PoolReg(Result ~ Year + (1+Year|Village) + (1|Site), ExampleData, NumInPool)
mod
